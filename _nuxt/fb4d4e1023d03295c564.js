(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{177:function(t,e,n){"use strict";n(70);var r={data:function(){return{siteList:[],selectedSiteId:void 0}},mounted:function(){this.getSiteList()},created:function(){this.getSiteList()},methods:{getSiteList:function(){var t=this;this.$axios.get("main_app/site_list").then(function(e){console.log(e);for(var i=0;i<e.data.results.length;i++)t.siteList.push({text:e.data.results[i].domain,value:e.data.results[i].site_id});t.selectedSiteId=t.siteList[0].value}).catch(function(e){console.log(e),console.log(e.response),403==e.response.status&&(t.$store.commit("auth/setAuthError",!0),t.$store.commit("auth/setAuthErrorMessage",e.response.data.error_message),t.$router.push("/auth/login"))})}},watch:{selectedSiteId:function(t,e){this.$emit("updatedSelectedSiteId")}}},o=n(9),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-select",{attrs:{items:t.siteList,"menu-props":"auto",label:"Site Domain"},model:{value:t.selectedSiteId,callback:function(e){t.selectedSiteId=e},expression:"selectedSiteId"}})],1)},[],!1,null,null,null);e.a=component.exports},178:function(t,e,n){"use strict";n(70);var r=n(71),o={props:["pUrl","pClass","pBtnText","pIsDownloadBtn","pTarget","pColor","pIcon"],data:function(){return{}},methods:{download_link:function(){return this.isDownloadBtn?"".concat(r.a,"/main_app/download/").concat(this.url):this.url}},computed:{url:function(){return this.pUrl},class:function(){return this.pClass},btnText:function(){return this.pBtnText},isDownloadBtn:function(){return this.pIsDownloadBtn},disabled:function(){return null==this.pUrl||""==this.pUrl},target:function(){return this.pTarget},color:function(){return this.pColor},icon:function(){return this.pIcon}}},l=n(9),component=Object(l.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-btn",{class:this.class,attrs:{disabled:this.disabled,color:this.color}},[e("a",{staticClass:"download-a",attrs:{href:this.download_link(),target:this.target}},[this._v(this._s(this.btnText))])])],1)},[],!1,null,null,null);e.a=component.exports},205:function(t,e,n){"use strict";n.r(e);n(70);var r=n(178),o=n(177),l={data:function(){return{headers:[{text:"Order Number",value:"order_number"},{text:"Tracking Provider",value:"tracking_provider"},{text:"Tracking Number",value:"tracking_number"},{text:"Status",value:"status"},{text:"Delete All Old Tracking",value:"delete_all_old_tracking"},{text:"Tracking Created At",value:"tracking_created_at"},{text:"Updated At",value:"updated_at"},{text:"Tracking Admin",value:"tracking_admin"},{text:"USPS Track",value:"url_usps_track"},{text:"17Track",value:"url_17track"}],rowsPerPageItems:[50,100,200,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],tableResultLoading:!1,reportTrackingList:[],from_date:new Date((new Date).setDate((new Date).getDate()-1)).toISOString().substr(0,10),from_menu:!1,to_date:(new Date).toISOString().substr(0,10),to_menu:!1,report_filepath:""}},components:{ButtonLink:r.a,SiteList:o.a},methods:{getReport:function(){var t=this;this.tableResultLoading=!0,this.$axios.post("main_app/tracking_report",{from_date:this.from_date,to_date:this.to_date,site_id:this.$refs.sitelist.selectedSiteId}).then(function(e){console.log(e),t.tableResultLoading=!1,t.reportTrackingList=e.data.results,t.report_filepath=e.data.report_filepath}).catch(function(e){t.tableResultLoading=!1,console.log(e),console.log(e.response),403==e.response.status&&(t.$store.commit("auth/setAuthError",!0),t.$store.commit("auth/setAuthErrorMessage",e.response.data.error_message),t.$router.push("/auth/login"))})}},watch:{from_date:function(t,e){this.getReport()},to_date:function(t,e){this.getReport()}}},c=n(9),component=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Reports")]),t._v(" "),n("center",[n("v-layout",{attrs:{"justify-center":""}},[n("SiteList",{ref:"sitelist",on:{updatedSelectedSiteId:function(e){return t.getReport()}}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-menu",{ref:"from_menu",attrs:{"close-on-content-click":!0,"return-value":t.from_date,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.from_date=e},"update:return-value":function(e){t.from_date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"From Date","prepend-icon":"event",readonly:""},on:{blur:function(e){t.from_date=t.from_date}},model:{value:t.from_date,callback:function(e){t.from_date=e},expression:"from_date"}},r))]}}]),model:{value:t.from_menu,callback:function(e){t.from_menu=e},expression:"from_menu"}},[t._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){return t.$refs.from_menu.save(t.from_date)}},model:{value:t.from_date,callback:function(e){t.from_date=e},expression:"from_date"}},[n("v-spacer")],1)],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-menu",{ref:"to_menu",attrs:{"close-on-content-click":!0,"return-value":t.to_date,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.to_date=e},"update:return-value":function(e){t.to_date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"To Date","prepend-icon":"event",readonly:""},model:{value:t.to_date,callback:function(e){t.to_date=e},expression:"to_date"}},r))]}}]),model:{value:t.to_menu,callback:function(e){t.to_menu=e},expression:"to_menu"}},[t._v(" "),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){return t.$refs.to_menu.save(t.to_date)}},model:{value:t.to_date,callback:function(e){t.to_date=e},expression:"to_date"}},[n("v-spacer")],1)],1)],1),t._v(" "),n("v-layout",{attrs:{"justify-center":""}},[n("ButtonLink",{attrs:{pClass:"success",pBtnText:"Download CSV Report",pUrl:this.report_filepath,pIsDownloadBtn:!0,pTarget:"_blank"}})],1),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.reportTrackingList,loading:t.tableResultLoading,"rows-per-page-items":t.rowsPerPageItems},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v("\n                    "+t._s(e.item.order_id)+"\n                ")]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.item.tracking_provider)+"\n                ")]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.item.tracking_number)+"\n                ")]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.item.status)+"\n                ")]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.item.delete_all_old_tracking)+"\n                ")]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.item.tracking_created_at)+"\n                ")]),t._v(" "),n("td",[t._v("\n                    "+t._s(e.item.updated_at)+"\n                ")]),t._v(" "),n("td",[n("ButtonLink",{attrs:{pClass:"success",pBtnText:"Tracking Admin",pUrl:e.item.admin_url,pTarget:"_blank"}})],1),t._v(" "),n("td",[n("ButtonLink",{attrs:{pClass:"primary",pBtnText:"USPS Track",pUrl:e.item.url_usps_track,pTarget:"_blank"}})],1),t._v(" "),n("td",[n("ButtonLink",{attrs:{pClass:"warning",pBtnText:"17Track",pUrl:e.item.url_17track,pTarget:"_blank"}})],1)]}}])})],1)],1)},[],!1,null,null,null);e.default=component.exports}}]);
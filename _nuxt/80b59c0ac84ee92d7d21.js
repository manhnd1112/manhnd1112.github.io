(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{185:function(o,e,t){var content=t(194);"string"==typeof content&&(content=[[o.i,content,""]]),content.locals&&(o.exports=content.locals);(0,t(35).default)("5f8edebf",content,!1,{sourceMap:!1})},193:function(o,e,t){"use strict";var n=t(185);t.n(n).a},194:function(o,e,t){(o.exports=t(34)(!1)).push([o.i,".dropzone-custom-title{margin-top:0;color:#00b782}.subtitle{color:#314b5f}.download-a{color:#fff!important;text-decoration:none!important}",""])},203:function(o,e,t){"use strict";t.r(e);var n=t(183),r=t.n(n),l=(t(179),jQuery,{data:function(){return{dropzoneOptions:{url:"http://localhost:8000/main_app/upload_file",thumbnailWidth:150,acceptedFiles:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",addRemoveLinks:!0},uploadedFileUrls:{},results:[],zip_filepath:void 0,hasError:!1,error:void 0}},components:{vueDropzone:r.a},methods:{sendingEvent:function(o,e,t){e.setRequestHeader("Authorization","Bearer ".concat(this.$store.state.auth.token))},reload:function(){var o=this;this.$axios.post("main_app/reload_convert_sku").then(function(e){console.log(e),delete o.uploadedFileUrls[file.upload.uuid]}).catch(function(o){console.log(o)})},isSucceed:function(o){return"SUCCEED"==o},uploadSucceed:function(o,e){console.log("uploaed success..."),console.log(o),console.log(e),this.uploadedFileUrls[o.upload.uuid]=e.url},fileUploadError:function(o,e,t){console.log(e),console.log(t),console.log(t.status),403==t.status?(this.$store.commit("auth/setAuthError",!0),this.$router.push({path:"/auth/login"})):this.error=e},removeFile:function(o,e,t){var n=this;console.log("remove file"),this.$axios.post("main_app/remove_file",{uploadedFileUrl:this.uploadedFileUrls[o.upload.uuid]}).then(function(e){console.log(e),delete n.uploadedFileUrls[o.upload.uuid]}).catch(function(o){console.log(o)})},convertSKU:function(){var o=this;console.log("send convert request..."),this.$axios.post("main_app/convert_sku",{filePaths:this.uploadedFileUrls}).then(function(e){console.log(e),o.results=e.data.results,o.zip_filepath=e.data.zip_filepath}).catch(function(e){console.log(e),o.results=[],o.zip_filepath=void 0})},download_link:function(o){return"main_app/download/".concat(o)}}}),c=(t(193),t(9)),component=Object(c.a)(l,function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",[t("h1",[o._v("Convert SKU")]),o._v(" "),t("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:o.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-success":o.uploadSucceed,"vdropzone-error":o.fileUploadError,"vdropzone-removed-file":o.removeFile,"vdropzone-sending":o.sendingEvent}},[t("div",{staticClass:"dropzone-custom-content"},[t("h3",{staticClass:"dropzone-custom-title"},[o._v("Drag and drop to upload Order file .xlsx!")]),o._v(" "),t("div",{staticClass:"subtitle"},[o._v("...or click to select a file from your computer")])])]),o._v(" "),t("center",[t("v-btn",{attrs:{color:"primary"},on:{click:o.convertSKU}},[o._v("Convert SKU")])],1),o._v(" "),t("v-container",[t("div",[o.hasError?t("v-alert",{attrs:{type:"error"}},[o._v("\n              "+o._s(o.error)+"\n            ")]):o._e(),o._v(" "),null!=o.zip_filepath?t("v-btn",{attrs:{color:"warning"}},[t("a",{staticClass:"download-a",attrs:{href:o.download_link(o.zip_filepath)}},[o._v("Download zipped file")])]):o._e(),o._v(" "),o._l(o.results,function(e,n){return t("v-flex",{key:n},[t("v-card",[t("v-card-title",[o.isSucceed(e.status)?t("v-chip",{attrs:{close:"",color:"teal","text-color":"white"}},[t("v-avatar",[t("v-icon",[o._v("check_circle")])],1),o._v("\n                        Succeed\n                    ")],1):t("v-chip",{attrs:{close:"",color:"red","text-color":"white"}},[t("v-avatar",[t("v-icon",[o._v("error")])],1),o._v("\n                        Failed\n                    ")],1),o._v(" "),t("strong",[o._v("Input file:")]),o._v(" "+o._s(e.filename)+"\n                ")],1),o._v(" "),t("v-card-text",[0==o.isSucceed(e.status)?t("v-alert",{staticStyle:{display:"block"},attrs:{type:"error"}},[o._v("\n                        "+o._s(e.error)+"\n                    ")]):t("v-btn",{attrs:{color:"success"}},[t("a",{staticClass:"download-a",attrs:{href:o.download_link(e.output_file)}},[o._v("Donwload")])])],1)],1),o._v(" "),t("br")],1)})],2)])],1)},[],!1,null,null,null);e.default=component.exports}}]);